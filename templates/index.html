<!DOCTYPE html>
<html>
<head>
    <title>PSN to SACN/OSC Converter</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>PSN to SACN/OSC Converter</h1>

    <h2>Configuration</h2>
    <form id="configForm">
        PSN IP: <input type="text" name="psn_ip" value="{{ config['psn_ip'] }}"><br>
        PSN Port: <input type="text" name="psn_port" value="{{ config['psn_port'] }}"><br>
        <button type="submit">Save Configuration</button>
    </form>

    <h2>Add OSC Mapping</h2>
    <form id="oscMappingForm">
        PSN Source: <input type="text" name="psn_source"><br>
        Server Name: <input type="text" name="server_name"><br>
        Tracker ID: <input type="number" name="tracker_id"><br>
        Tracker Name: <input type="text" name="tracker_name"><br>
        Axis: <input type="text" name="axis"><br>
        PSN Min: <input type="number" name="psn_min"><br>
        PSN Max: <input type="number" name="psn_max"><br>
        OSC Min: <input type="number" name="osc_min"><br>
        OSC Max: <input type="number" name="osc_max"><br>
        OSC Addr: <input type="text" name="osc_addr"><br>
        <button type="submit">Add OSC Mapping</button>
    </form>

    <h2>Add SACN Mapping</h2>
    <form id="sacnMappingForm">
        PSN Source: <input type="text" name="psn_source"><br>
        Server Name: <input type="text" name="server_name"><br>
        Tracker ID: <input type="number" name="tracker_id"><br>
        Tracker Name: <input type="text" name="tracker_name"><br>
        Axis: <input type="text" name="axis"><br>
        PSN Min: <input type="number" name="psn_min"><br>
        PSN Max: <input type="number" name="psn_max"><br>
        DMX Min: <input type="number" name="dmx_min"><br>
        DMX Max: <input type="number" name="dmx_max"><br>
        SACN Universe: <input type="number" name="sacn_universe"><br>
        SACN Addr: <input type="number" name="sacn_addr"><br>
        <button type="submit">Add SACN Mapping</button>
    </form>

    <button id="startButton">Start Conversion</button>
    <button id="stopButton">Stop Conversion</button>

    <script>
        $(document).ready(function() {
            $('#configForm').submit(function(event) {
                event.preventDefault();
                $.post('/configure', $(this).serialize(), function(response) {
                    alert(response);
                });
            });

            $('#oscMappingForm').submit(function(event) {
                event.preventDefault();
                $.post('/add_osc_mapping', $(this).serialize(), function(response) {
                    alert(response);
                });
            });

            $('#sacnMappingForm').submit(function(event) {
                event.preventDefault();
                $.post('/add_sacn_mapping', $(this).serialize(), function(response) {
                    alert(response);
                });
            });

            $('#startButton').click(function() {
                $.post('/start', function(response) {
                    alert(response);
                });
            });

            $('#stopButton').click(function() {
                $.post('/stop', function(response) {
                    alert(response);
                });
            });
        });
    </script>
</body>
</html>
