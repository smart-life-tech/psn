<!DOCTYPE html>
<html>
<head>
    <title>PSN to SACN/OSC Converter</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h1>PSN to SACN/OSC Converter</h1>

    <h2>Configuration</h2>
    <form id="configForm">
        PSN IP: <input type="text" name="psn_ip" value="{{ config['psn_ip'] }}"><br>
        PSN Port: <input type="text" name="psn_port" value="{{ config['psn_port'] }}"><br>
        <button type="submit">Save Configuration</button>
    </form>

    <h2>Add Mapping</h2>
    <form id="mappingForm">
        PSN Field: <input type="text" name="psn_field"><br>
        SACN Universe: <input type="text" name="sacn_universe"><br>
        SACN Address: <input type="text" name="sacn_address"><br>
        OSC IP: <input type="text" name="osc_ip"><br>
        OSC Port: <input type="text" name="osc_port"><br>
        OSC Address: <input type="text" name="osc_address"><br>
        Scale: <input type="text" name="scale"><br>
        <button type="submit">Add Mapping</button>
    </form>

    <button id="startButton">Start Conversion</button>
    <button id="stopButton">Stop Conversion</button>

    <script>
        $(document).ready(function() {
            $('#configForm').submit(function(event) {
                event.preventDefault();
                $.post('/configure', $(this).serialize(), function(response) {
                    alert(response);
                });
            });

            $('#mappingForm').submit(function(event) {
                event.preventDefault();
                $.post('/add_mapping', $(this).serialize(), function(response) {
                    alert(response);
                });
            });

            $('#startButton').click(function() {
                $.post('/start', function(response) {
                    alert(response);
                });
            });

            $('#stopButton').click(function() {
                $.post('/stop', function(response) {
                    alert(response);
                });
            });
        });
    </script>
</body>
</html>
